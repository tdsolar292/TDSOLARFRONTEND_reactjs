.afdm-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;z-index:1100}
.afdm-modal{background:linear-gradient(180deg,#f8fafc 0%, #ffffff 60%);border-radius:16px;box-shadow:0 25px 50px -12px rgba(0,0,0,.35);width:100%;max-width:820px;padding:1rem 1.25rem}
.afdm-header{display:flex;align-items:center;justify-content:space-between;padding:0 0 1rem;border-bottom:1px solid var(--border);position:relative}
.afdm-header::before{content:"";position:absolute;left:0;right:0;bottom:-1px;height:4px;background:linear-gradient(90deg,var(--primary) 0%,var(--success) 100%)}
.afdm-header h3{margin:0;font-weight:800;background:linear-gradient(135deg,var(--secondary) 0%,var(--primary) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.afdm-close{border:none;background:transparent;font-size:1.25rem;color:var(--text-secondary);cursor:pointer}
.afdm-form{padding:1rem 0}
.afdm-error{background:#fef2f2;border:1px solid #fecaca;color:#b91c1c;padding:.75rem 1rem;border-radius:8px;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}
.afdm-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}
.afdm-field{display:flex;flex-direction:column;gap:.5rem}
.afdm-field-wide{grid-column:span 2}
.afdm-field label{font-weight:600;color:var(--text-primary)}
.afdm-field input,.afdm-field select{padding:.75rem;border:1px solid var(--border);border-radius:10px;background:#fff;color:var(--text-primary)}
.afdm-actions{display:flex;justify-content:flex-end;gap:.5rem;padding-top:1rem;border-top:1px solid var(--border);margin-top:1rem}
.afdm-spinner{width:16px;height:16px;border:2px solid rgba(255,255,255,.4);border-top:2px solid #fff;border-radius:50%;display:inline-block;margin-right:.5rem;animation:afdm-spin 1s linear infinite}
@keyframes afdm-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
@media (max-width:768px){
  .afdm-modal{
    max-width:95vw;
    padding:0.75rem;
  }
  
  .afdm-grid{
    grid-template-columns:1fr;
    gap:0.5rem;
  }
  
  .afdm-field-wide{
    grid-column:span 1;
  }
  
  /* Reduce modal header padding and font size */
  .modal-header{
    padding:0.25rem 1rem;
  }
  
  .modal-header .modal-title{
    font-size:1rem;
  }
  
  
  /* Reduce form field spacing */
  .afdm-form{
    padding:0.05rem 0;
  }
  
  /* Compact form labels */
  .afdm-field label,
  .form-label{
    font-size:0.6rem;
    margin-bottom:0.0rem !important;
    margin-top: 0.25rem;
    font-weight:400;
  }
  
  /* Reduce input/select padding and font size */
  .afdm-field input,
  .afdm-field select,
  .form-control,
  .form-select{
    padding:0.35rem;
    font-size:0.85rem !important;
    border-radius:5px;
  }
  
  /* Reduce field bottom margin */
  .mb-3{
    margin-bottom:0.05rem !important;
  }
  
  /* Compact modal footer */
  .modal-footer{
    padding:0.25rem;
    gap:0.05rem;
  }
  
  /* Smaller buttons on mobile */
  .modal-footer .btn{
    padding:0.5rem 1rem;
    font-size:0.75rem;
  }
  
  /* Reduce error message padding */
  .afdm-error{
    padding:0.05rem;
    font-size:0.6rem;
    margin-bottom:0.5rem;
  }
  
  /* Modal body padding */
  .modal-body{
    padding:0.55rem;
  }
}
.afdm-inline{display:flex;gap:.5rem;align-items:center}
.afdm-inline-prefix{min-width:72px}
.afdm-hint{color:var(--text-secondary);font-size:.8rem;margin-top:.25rem;display:block}
.afdm-actions .btn.btn-primary{background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);border:none;padding:10px 30px;}
.afdm-actions .btn.btn-primary:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(37,99,235,.25)}

/* Modal footer button spacing */
.modal-footer {
    display: flex;
    flex-shrink: 0;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-end;
    padding: calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);
    background-color: var(--bs-modal-footer-bg);
    border-top: var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);
    border-bottom-right-radius: var(--bs-modal-inner-border-radius);
    border-bottom-left-radius: var(--bs-modal-inner-border-radius);
    gap: 20px;
}

.modal-footer .btn {
    margin-left: 0;
    margin-right: 0;
}

.modal-footer .btn + .btn {
    margin-left: 0;
}
.modal-header{    background: linear-gradient(to right, #1D2671, #C33764);
    color: #fff;}

/* Code Suggestions Autocomplete Dropdown */
.code-suggestions-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #ffffff;
    border: 1px solid #d1d5db;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    margin-top: 4px;
    max-height: 280px;
    overflow-y: auto;
    z-index: 1000;
    animation: dropdown-fade-in 0.2s ease-out;
}

@keyframes dropdown-fade-in {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.suggestions-header {
    padding: 8px 12px;
    background: linear-gradient(to right, #f3f4f6, #e5e7eb);
    border-bottom: 1px solid #d1d5db;
    font-size: 0.75rem;
    color: #6b7280;
    font-weight: 600;
}

.suggestions-list {
    padding: 4px;
}

.suggestion-item {
    padding: 10px 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 6px;
    color: #374151;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    margin-bottom: 2px;
}

.suggestion-item:hover {
    background: linear-gradient(to right, #EEF2FF, #E0E7FF);
    color: #4F46E5;
    transform: translateX(4px);
}

.suggestion-item i {
    color: #9CA3AF;
    font-size: 0.85rem;
}

.suggestion-item:hover i {
    color: #4F46E5;
}

/* Scrollbar styling for suggestions dropdown */
.code-suggestions-dropdown::-webkit-scrollbar {
    width: 8px;
}

.code-suggestions-dropdown::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 4px;
}

.code-suggestions-dropdown::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
}

.code-suggestions-dropdown::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* Mobile responsive styles for dropdown */
@media (max-width: 768px) {
    .code-suggestions-dropdown {
        max-height: 180px;
        font-size: 0.85rem;
    }
    
    .suggestion-item {
        padding: 8px 10px;
        font-size: 0.85rem;
    }
    
    .suggestions-header {
        padding: 6px 10px;
        font-size: 0.7rem;
    }
}
